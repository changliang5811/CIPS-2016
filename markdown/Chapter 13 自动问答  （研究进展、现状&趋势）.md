# Chapter 13 自动问答 
（研究进展、现状&趋势）

## What is QA?

### 自动问答（Question Answering, QA）是指利用计算机自动回答用户所提出的问题以满足用户知识需求的任务

### 不同于现有搜索引擎，问答系统是信息服务的一种高级形式，系统返回用户的不再是基于关键词匹配排序的文档列表，而是精准的自然语言答案

### 问答系统被认为是验证机器是否具备自然语言理解能力的四个任务之一（其它三个是机器翻译、复述和文本摘要）。

## 主要研究任务

### 大体流程：自动问答系统在回答用户问题时，需要正确理解用户所提的自然语言问题，抽取其中的关键语义信息，然后在已有语料库、知识库或问答库中通过检索、匹配、推理的手段获取答案并返回给用户。

### 涉及词法分析、句法分析、语义分析、信息检索、逻辑推理、知识工程、语言生成等多项关键技术

### 传统QA：限定领域，限定类型的回答；QA发展趋势：趋向于开放域、面向开放类型问题的QA

### 任务1:问句理解 

- 给定用户问题，自动问答首先需要理解用户所提问题
- 用户问句的语义理解包含词法分析、句法分析、语义分析等多项关键技术，需要从文本的多个维度理解其中包含的语义内容
- 词语层面：命名实体识别（Named Entity Recognition）、术语识别（Term Extraction）、词汇化答案类型词识别（Lexical Answer Type Recognition）、实体消歧（Entity Disambiguation）、关键词权重计算（Keyword Weight Estimation）、答案集中词识别（Focused Word Detection）等关键问题
- 句法层面：解析句子中词与词之间、短语与短语之间的句法关系，分析句子句法结构
- 语义层面：根据词语层面、句法层面的分析结果，将自然语言问句解析成可计算、结构化的逻辑表达形式（如一阶谓词逻辑表达式）。

### 任务2:文本信息抽取

- 给定问句语义分析结果，自动问答系统需要在已有语料库、知识库或问答库中匹配相关的信息，并抽取出相应的答案
- 传统答案抽取构建

	- 基于浅层语义分析，采用关键词匹配策略，但只能处理限定类型的答案，效果不佳
	- 缺点：没有分析语义单元之间的语义关系，抽取文本中的结构化知识

- 开放域知识抽取技术

	- 早期基于规则模板的知识抽取方法难以突破领域和问题类型的限制，远远不能满足开放领域自动问答的知识需求
	- 1）文本领域开放：处理的文本是不限定领域的网络文本；
	- 2）内容单元类型开放：不限定所抽取的内容单元类型，而是自动地从网络中挖掘内容单元的类型，例如实体类型、事件类型和关系类型等。

### 任务3:知识推理

- 由于语料库、知识库和问答库本身的覆盖度有限，并不是所有问题都能直接找到答案。这就需要在已有的知识体系中，通过知识推理的手段获取这些隐含的答案。
- 传统推理方法

	- 基于符号的知识表示形式，通过人工构建的推理规则得到答案
	- 面对大规模、开放域的问答场景，不能自动进行规则学习，不能解决规则冲突

- 改进：基于分布式表示的知识表示学习方法能够将实体、概念以及它们之间的语义关系表示为低维空间中的对象（向量、矩阵等），并通过低维空间中的数值计算完成知识推理任务。
- 关键问题：如何将已有的基于符号表示的逻辑推理与基于分布式表示的数值推理相结合，研究融合符号逻辑和表示学习的知识推理技术

## 自动问答技术

### 区分方式：根据目标数据源的不同

### 1.检索式问答

- 以检索和答案抽取为基本过程的问答系统，具体过程包括问题分析、篇章检索和答案抽取。

  比如TREC QA （1999年）的任务是给定特定 WEB 数据集，从中找到能够回答问题的答案
  
- 根据抽取方法的不同，已有检索式问答可以分为基于模式匹配的问答方法和基于统计文本信息抽取的问答方法。
- 基于模式匹配的方法

	- 先离线地获得各类提问答案的模式
	- 系统首先判断当前提问属于哪一类，然后使用这类提问的模式来对抽取的候选答案进行验证
	- 由于自然语言处理的技术还未成熟，现有（2016）大多数系统都基于浅层句子分析。

- 基于统计文本信息抽取的问答系统

	- 典型代表是美国 Language Computer Corporation公司的 LCC 系统。
	- LCC系统使用词汇链和逻辑形式转换技术，把提问句和答案句转化成统一的逻辑形式（Logic Form），通过词汇链，实现答案的推理验证

- 里程碑：Watson5（IBM）

	- （1）强大的硬件平台
	- （2）强大的知识资源，存储了大量已有的资料，便于检索
	- （3）深层问答技术（DeepQA）：涉及统计机器学习、句法分析、主题分析、信息抽取、知识库集成和知识推理等深层技术
	- 本质：Watson 并没有突破传统问答式检索系统的局限性，使用的技术主要还是检索和匹配，回答的问题类型大多是简单的实体或词语类问题，而推理能力不强。

- 限定问题类型、限定答案类型，面对开放式的场景和环境，已有检索式问答系统还有很长的路要走

### 2.社区问答

- 契机：随着 Web2.0 的兴起，基于用户生成内容（User-Generated Content, UGC）的互联网服务越来越流行，社区问答系统应运而生，如：百度知道
- 社区问答数据覆盖了方方面面的用户知识和信息需求
- 社区问答与传统自动问答的一个显著区别是：社区问答系统有大量的用户参与，存在丰富的用户行为信息（投票、评价、采纳率、推荐、点击次数以及用户-问题-答案的相互关联信息等）
- 社区问答的核心问题是从大规模历史问答对数据中找出与用户提问问题语义相似的历史问题并将其答案返回提问用户
- 特点：用户问题和已有问句相对来说都非常短，用户问题和已有问句之间存在“词汇鸿沟”问题

	- 解决方案1：引入单语言翻译概率模型，通过 IBM 翻译模型，从海量单语问答语料中获得同种语言中两个不同词语之间的语义转换概率，从而在一定程度上解决词汇语义鸿沟问题

	  例如和“减肥”对应的概率高的相关词有“瘦身”、“跑步”、“饮食”、“健康”、“远动”等等
	  
	- 解决方案2:问句检索中词重要性的研究和基于句法结构的问题匹配

### 3.知识库问答（重点）

- 检索式问答和社区问答尽管在某些特定领域或者商业领域有所应用，但是其核心还是关键词匹配和浅层语义分析技术，难以实现知识的深层逻辑推理，无法达到人工智能的高级目标。
- 逐步把注意力投向知识图谱或知识库（Knowledge Graph）
- 目标：把互联网文本内容组织成为以实体为基本语义单元（节点）的图结构，其中图上的边表示实体之间语义关系。
- 知识库多是以“实体-关系-实体”三元组为基本单元所组成的图结构，根据用户问题的语义直接在
知识库上查找、推理出相匹配的答案，这一任务称为面向知识库的问答系统或知识库问答。
- 如何把用户的自然语言问句转化为结构化的查询语句是知识库问答的核心所在，关键是对于自然语言问句进行语义理解（如图所示）

  完成在结构化数据上的查询、匹配、推理等操作，最有效的方式是利用如SQL语句似的结构化查询语句，但是语句通常由专家编写，普通用户难以掌握并正确运用，对普通用户而言，自然语言依旧是最自然的交互方式
  
- 主流方法是通过语义分析，将用户的自然语言问句转化成结构化的语义表示，比如DCS-Tree。相对应的语义解析语法或方法包括组合范畴语法（ Category Compositional Grammar, CCG ） 以 及 依 存 组 合 语 法 （ Dependency-based Compositional Semantics, DCS）等

  很多语义解析方法在限定领域内能达到很好的效果，当面对大规模知识库时会遇到困难，如词汇表问题（在面对一个陌生的知识库时，不可能事先或者用人工方法得到这个词汇表）。并且上述方法的处理范式仍然是基于符号逻辑的，缺乏灵活性，在分析问句语义过程中，易受到符号间语义鸿沟影响。同时从自然语言问句到结构化语义表达需要多步操作，多步间的误差传递对于问答的准确度也有很大的影响。
  
- 趋势——>深度学习技术

	- 优势：通过学习能够捕获文本（词、短语、句子、段落以及篇章）的语义信息，把目标文本投射到低维的语义空间中，这使得传统自然语言处理过程中很多语义鸿沟的现象通过低维空间中向量间数值计算得到一定程度的改善或解决。
	- 
通过表示学习，我们能够把用户的自然语言问题转换为一个低维空间中的数值向量（分布式语义表示），同时知识库中的实体、概念、类别以及关系也能够表示成同一语义空间的数值向量。那么传统知识库问答任务就可以看成问句语义向量与知识库中实体、边的语义向量之间的相似度计算过程。

## 未来展望

### 基于深度学习的端到端自动问答

- 通过高质量的问题-答案语料建立联合学习模型，同时学习语料库、知识库和问句的语义表示及它们相互之间的语义映射关系，试图通过向量间的数值运算对于复杂的问答过程进行建模，把传统的问句语义解析、文本检索、答案抽取与生成的复杂步骤转变为一个可学习的过程
- 现状：（1）高质量问题-答案数据资源不足；（2）对于复杂问题的回答能力不足

### 多领域、多语言的自动问答

### 面向问答的深度推理

- 利用深度学习大规模、可学习的特点，在深度神经网络框架下，融入传统的逻辑推理规则，构建精准的大规模知识推理引擎

### 篇章阅读理解

- 传统问答任务多考察系统的文本匹配、信息抽取水平。而在阅读理解任务当中，系统被要求回答一些非事实性的、高度抽象的问题。虽然可以利用一些已有背景知识，但是问题的答案往往来源于当前给定篇章中的文本。特别考察系统对于文本的细致化的自然语言理解能力以及已有知识的运用能力和推理能力

### 对话

- 提问者和系统进行多轮对话交互，完成问答过程

